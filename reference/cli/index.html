
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Python utilities for the T3 (Track and Trace Tools) API">
      
      
      
        <link rel="canonical" href="https://classvsoftware.github.io/t3api-python-utils/reference/cli/">
      
      
        <link rel="prev" href="../openapi/">
      
      
        <link rel="next" href="../style/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>CLI - t3api-utils</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cli" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="t3api-utils" class="md-header__button md-logo" aria-label="t3api-utils" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            t3api-utils
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              CLI
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/classvsoftware/t3api-python-utils" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    classvsoftware/t3api-python-utils
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="t3api-utils" class="md-nav__button md-logo" aria-label="t3api-utils" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    t3api-utils
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/classvsoftware/t3api-python-utils" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    classvsoftware/t3api-python-utils
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Client
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-parallel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parallel Loading
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../http/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HTTP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../db/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../file/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    File I/O
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../collection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Collection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../openapi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenAPI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    CLI
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    CLI
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#constants" class="md-nav__link">
    <span class="md-ellipsis">
      
        Constants
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts" class="md-nav__link">
    <span class="md-ellipsis">
      
        consts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="consts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.DEFAULT_OTP_WHITELIST" class="md-nav__link">
    <span class="md-ellipsis">
      
        DEFAULT_OTP_WHITELIST
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.DEFAULT_CREDENTIAL_EMAIL_WHITELIST" class="md-nav__link">
    <span class="md-ellipsis">
      
        DEFAULT_CREDENTIAL_EMAIL_WHITELIST
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.DEFAULT_T3_API_HOST" class="md-nav__link">
    <span class="md-ellipsis">
      
        DEFAULT_T3_API_HOST
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.DEFAULT_ENV_PATH" class="md-nav__link">
    <span class="md-ellipsis">
      
        DEFAULT_ENV_PATH
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys" class="md-nav__link">
    <span class="md-ellipsis">
      
        EnvKeys
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EnvKeys">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.METRC_HOSTNAME" class="md-nav__link">
    <span class="md-ellipsis">
      
        METRC_HOSTNAME
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.METRC_USERNAME" class="md-nav__link">
    <span class="md-ellipsis">
      
        METRC_USERNAME
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.METRC_PASSWORD" class="md-nav__link">
    <span class="md-ellipsis">
      
        METRC_PASSWORD
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.METRC_EMAIL" class="md-nav__link">
    <span class="md-ellipsis">
      
        METRC_EMAIL
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.JWT_TOKEN" class="md-nav__link">
    <span class="md-ellipsis">
      
        JWT_TOKEN
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.API_KEY" class="md-nav__link">
    <span class="md-ellipsis">
      
        API_KEY
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.API_STATE_CODE" class="md-nav__link">
    <span class="md-ellipsis">
      
        API_STATE_CODE
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.T3_API_HOST" class="md-nav__link">
    <span class="md-ellipsis">
      
        T3_API_HOST
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.HTTP_TIMEOUT" class="md-nav__link">
    <span class="md-ellipsis">
      
        HTTP_TIMEOUT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.HTTP_CONNECT_TIMEOUT" class="md-nav__link">
    <span class="md-ellipsis">
      
        HTTP_CONNECT_TIMEOUT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.HTTP_READ_TIMEOUT" class="md-nav__link">
    <span class="md-ellipsis">
      
        HTTP_READ_TIMEOUT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.VERIFY_SSL" class="md-nav__link">
    <span class="md-ellipsis">
      
        VERIFY_SSL
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.MAX_WORKERS" class="md-nav__link">
    <span class="md-ellipsis">
      
        MAX_WORKERS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.BATCH_SIZE" class="md-nav__link">
    <span class="md-ellipsis">
      
        BATCH_SIZE
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.RATE_LIMIT_RPS" class="md-nav__link">
    <span class="md-ellipsis">
      
        RATE_LIMIT_RPS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.RATE_LIMIT_BURST" class="md-nav__link">
    <span class="md-ellipsis">
      
        RATE_LIMIT_BURST
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.RETRY_MAX_ATTEMPTS" class="md-nav__link">
    <span class="md-ellipsis">
      
        RETRY_MAX_ATTEMPTS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.RETRY_BACKOFF_FACTOR" class="md-nav__link">
    <span class="md-ellipsis">
      
        RETRY_BACKOFF_FACTOR
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.RETRY_MIN_WAIT" class="md-nav__link">
    <span class="md-ellipsis">
      
        RETRY_MIN_WAIT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.OTP_WHITELIST" class="md-nav__link">
    <span class="md-ellipsis">
      
        OTP_WHITELIST
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.EMAIL_WHITELIST" class="md-nav__link">
    <span class="md-ellipsis">
      
        EMAIL_WHITELIST
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.OTP_SEED" class="md-nav__link">
    <span class="md-ellipsis">
      
        OTP_SEED
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.LOG_LEVEL" class="md-nav__link">
    <span class="md-ellipsis">
      
        LOG_LEVEL
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.LOG_FORMAT" class="md-nav__link">
    <span class="md-ellipsis">
      
        LOG_FORMAT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.DEBUG_MODE" class="md-nav__link">
    <span class="md-ellipsis">
      
        DEBUG_MODE
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.CACHE_RESPONSES" class="md-nav__link">
    <span class="md-ellipsis">
      
        CACHE_RESPONSES
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.OUTPUT_DIR" class="md-nav__link">
    <span class="md-ellipsis">
      
        OUTPUT_DIR
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.TEMP_DIR" class="md-nav__link">
    <span class="md-ellipsis">
      
        TEMP_DIR
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.AUTO_OPEN_FILES" class="md-nav__link">
    <span class="md-ellipsis">
      
        AUTO_OPEN_FILES
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.STRIP_EMPTY_COLUMNS" class="md-nav__link">
    <span class="md-ellipsis">
      
        STRIP_EMPTY_COLUMNS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.DEFAULT_FILE_FORMAT" class="md-nav__link">
    <span class="md-ellipsis">
      
        DEFAULT_FILE_FORMAT
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Utilities
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils" class="md-nav__link">
    <span class="md-ellipsis">
      
        utils
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.DEFAULT_ENV_PATH" class="md-nav__link">
    <span class="md-ellipsis">
      
        DEFAULT_ENV_PATH
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.ConfigManager" class="md-nav__link">
    <span class="md-ellipsis">
      
        ConfigManager
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ConfigManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.ConfigManager.ensure_config_exists" class="md-nav__link">
    <span class="md-ellipsis">
      
        ensure_config_exists
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.ConfigManager.get_config_value" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_config_value
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.ConfigManager.get_otp_whitelist" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_otp_whitelist
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.ConfigManager.get_email_whitelist" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_email_whitelist
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.ConfigManager.get_api_host" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_api_host
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.ConfigManager.get_otp_seed" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_otp_seed
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.generate_otp_from_seed" class="md-nav__link">
    <span class="md-ellipsis">
      
        generate_otp_from_seed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.load_credentials_from_env" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_credentials_from_env
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.offer_to_save_credentials" class="md-nav__link">
    <span class="md-ellipsis">
      
        offer_to_save_credentials
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.prompt_for_credentials_or_error" class="md-nav__link">
    <span class="md-ellipsis">
      
        prompt_for_credentials_or_error
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.resolve_auth_inputs_or_error" class="md-nav__link">
    <span class="md-ellipsis">
      
        resolve_auth_inputs_or_error
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../style/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Style
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../inspector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inspector
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../logging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Logging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exceptions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#constants" class="md-nav__link">
    <span class="md-ellipsis">
      
        Constants
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts" class="md-nav__link">
    <span class="md-ellipsis">
      
        consts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="consts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.DEFAULT_OTP_WHITELIST" class="md-nav__link">
    <span class="md-ellipsis">
      
        DEFAULT_OTP_WHITELIST
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.DEFAULT_CREDENTIAL_EMAIL_WHITELIST" class="md-nav__link">
    <span class="md-ellipsis">
      
        DEFAULT_CREDENTIAL_EMAIL_WHITELIST
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.DEFAULT_T3_API_HOST" class="md-nav__link">
    <span class="md-ellipsis">
      
        DEFAULT_T3_API_HOST
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.DEFAULT_ENV_PATH" class="md-nav__link">
    <span class="md-ellipsis">
      
        DEFAULT_ENV_PATH
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys" class="md-nav__link">
    <span class="md-ellipsis">
      
        EnvKeys
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EnvKeys">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.METRC_HOSTNAME" class="md-nav__link">
    <span class="md-ellipsis">
      
        METRC_HOSTNAME
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.METRC_USERNAME" class="md-nav__link">
    <span class="md-ellipsis">
      
        METRC_USERNAME
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.METRC_PASSWORD" class="md-nav__link">
    <span class="md-ellipsis">
      
        METRC_PASSWORD
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.METRC_EMAIL" class="md-nav__link">
    <span class="md-ellipsis">
      
        METRC_EMAIL
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.JWT_TOKEN" class="md-nav__link">
    <span class="md-ellipsis">
      
        JWT_TOKEN
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.API_KEY" class="md-nav__link">
    <span class="md-ellipsis">
      
        API_KEY
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.API_STATE_CODE" class="md-nav__link">
    <span class="md-ellipsis">
      
        API_STATE_CODE
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.T3_API_HOST" class="md-nav__link">
    <span class="md-ellipsis">
      
        T3_API_HOST
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.HTTP_TIMEOUT" class="md-nav__link">
    <span class="md-ellipsis">
      
        HTTP_TIMEOUT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.HTTP_CONNECT_TIMEOUT" class="md-nav__link">
    <span class="md-ellipsis">
      
        HTTP_CONNECT_TIMEOUT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.HTTP_READ_TIMEOUT" class="md-nav__link">
    <span class="md-ellipsis">
      
        HTTP_READ_TIMEOUT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.VERIFY_SSL" class="md-nav__link">
    <span class="md-ellipsis">
      
        VERIFY_SSL
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.MAX_WORKERS" class="md-nav__link">
    <span class="md-ellipsis">
      
        MAX_WORKERS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.BATCH_SIZE" class="md-nav__link">
    <span class="md-ellipsis">
      
        BATCH_SIZE
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.RATE_LIMIT_RPS" class="md-nav__link">
    <span class="md-ellipsis">
      
        RATE_LIMIT_RPS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.RATE_LIMIT_BURST" class="md-nav__link">
    <span class="md-ellipsis">
      
        RATE_LIMIT_BURST
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.RETRY_MAX_ATTEMPTS" class="md-nav__link">
    <span class="md-ellipsis">
      
        RETRY_MAX_ATTEMPTS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.RETRY_BACKOFF_FACTOR" class="md-nav__link">
    <span class="md-ellipsis">
      
        RETRY_BACKOFF_FACTOR
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.RETRY_MIN_WAIT" class="md-nav__link">
    <span class="md-ellipsis">
      
        RETRY_MIN_WAIT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.OTP_WHITELIST" class="md-nav__link">
    <span class="md-ellipsis">
      
        OTP_WHITELIST
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.EMAIL_WHITELIST" class="md-nav__link">
    <span class="md-ellipsis">
      
        EMAIL_WHITELIST
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.OTP_SEED" class="md-nav__link">
    <span class="md-ellipsis">
      
        OTP_SEED
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.LOG_LEVEL" class="md-nav__link">
    <span class="md-ellipsis">
      
        LOG_LEVEL
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.LOG_FORMAT" class="md-nav__link">
    <span class="md-ellipsis">
      
        LOG_FORMAT
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.DEBUG_MODE" class="md-nav__link">
    <span class="md-ellipsis">
      
        DEBUG_MODE
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.CACHE_RESPONSES" class="md-nav__link">
    <span class="md-ellipsis">
      
        CACHE_RESPONSES
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.OUTPUT_DIR" class="md-nav__link">
    <span class="md-ellipsis">
      
        OUTPUT_DIR
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.TEMP_DIR" class="md-nav__link">
    <span class="md-ellipsis">
      
        TEMP_DIR
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.AUTO_OPEN_FILES" class="md-nav__link">
    <span class="md-ellipsis">
      
        AUTO_OPEN_FILES
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.STRIP_EMPTY_COLUMNS" class="md-nav__link">
    <span class="md-ellipsis">
      
        STRIP_EMPTY_COLUMNS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.consts.EnvKeys.DEFAULT_FILE_FORMAT" class="md-nav__link">
    <span class="md-ellipsis">
      
        DEFAULT_FILE_FORMAT
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Utilities
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils" class="md-nav__link">
    <span class="md-ellipsis">
      
        utils
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.DEFAULT_ENV_PATH" class="md-nav__link">
    <span class="md-ellipsis">
      
        DEFAULT_ENV_PATH
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.ConfigManager" class="md-nav__link">
    <span class="md-ellipsis">
      
        ConfigManager
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ConfigManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.ConfigManager.ensure_config_exists" class="md-nav__link">
    <span class="md-ellipsis">
      
        ensure_config_exists
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.ConfigManager.get_config_value" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_config_value
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.ConfigManager.get_otp_whitelist" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_otp_whitelist
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.ConfigManager.get_email_whitelist" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_email_whitelist
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.ConfigManager.get_api_host" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_api_host
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.ConfigManager.get_otp_seed" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_otp_seed
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.generate_otp_from_seed" class="md-nav__link">
    <span class="md-ellipsis">
      
        generate_otp_from_seed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.load_credentials_from_env" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_credentials_from_env
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.offer_to_save_credentials" class="md-nav__link">
    <span class="md-ellipsis">
      
        offer_to_save_credentials
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.prompt_for_credentials_or_error" class="md-nav__link">
    <span class="md-ellipsis">
      
        prompt_for_credentials_or_error
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#t3api_utils.cli.utils.resolve_auth_inputs_or_error" class="md-nav__link">
    <span class="md-ellipsis">
      
        resolve_auth_inputs_or_error
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="cli">CLI<a class="headerlink" href="#cli" title="Permanent link">&para;</a></h1>
<h2 id="constants">Constants<a class="headerlink" href="#constants" title="Permanent link">&para;</a></h2>


<div class="doc doc-object doc-module">



<h2 id="t3api_utils.cli.consts" class="doc doc-heading">
            <span class="doc doc-object-name doc-module-name">consts</span>


<a href="#t3api_utils.cli.consts" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents first">

        <p>CLI constants and environment variable keys for t3api_utils configuration.</p>
<p>Defines default values and the :class:<code>EnvKeys</code> enum whose members map to
environment variables (and <code>.t3.env</code> file keys) that control authentication,
HTTP behaviour, performance tuning, and output settings.</p>










<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="t3api_utils.cli.consts.DEFAULT_OTP_WHITELIST" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">DEFAULT_OTP_WHITELIST</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.DEFAULT_OTP_WHITELIST" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">DEFAULT_OTP_WHITELIST</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;mi.metrc.com&#39;</span><span class="p">}</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Metrc hostnames that require a one-time password for authentication.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="t3api_utils.cli.consts.DEFAULT_CREDENTIAL_EMAIL_WHITELIST" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">DEFAULT_CREDENTIAL_EMAIL_WHITELIST</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.DEFAULT_CREDENTIAL_EMAIL_WHITELIST" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">DEFAULT_CREDENTIAL_EMAIL_WHITELIST</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;co.metrc.com&#39;</span><span class="p">}</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Metrc hostnames that require an email address for authentication.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="t3api_utils.cli.consts.DEFAULT_T3_API_HOST" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">DEFAULT_T3_API_HOST</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.DEFAULT_T3_API_HOST" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">DEFAULT_T3_API_HOST</span> <span class="o">=</span> <span class="s1">&#39;https://api.trackandtrace.tools&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Default base URL for the T3 API when no override is configured.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="t3api_utils.cli.consts.DEFAULT_ENV_PATH" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">DEFAULT_ENV_PATH</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.DEFAULT_ENV_PATH" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">DEFAULT_ENV_PATH</span><span class="p">:</span> <span class="n">Final</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;.t3.env&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Default path to the dotenv file where credentials and settings are persisted.</p>

    </div>

</div>



<div class="doc doc-object doc-class">



<h3 id="t3api_utils.cli.consts.EnvKeys" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">EnvKeys</span>


<a href="#t3api_utils.cli.consts.EnvKeys" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="str">str</span></code>, <code><span title="enum.Enum">Enum</span></code></p>



        <p>Environment variable keys recognised by :class:<code>t3api_utils.cli.utils.ConfigManager</code>.</p>
<p>Each member's value is the literal env-var / dotenv key string.
Members are grouped by concern: authentication, connection, performance,
hostname behaviour, development, and output.</p>











<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.METRC_HOSTNAME" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">METRC_HOSTNAME</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.METRC_HOSTNAME" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">METRC_HOSTNAME</span> <span class="o">=</span> <span class="s1">&#39;METRC_HOSTNAME&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Metrc state hostname (e.g. <code>ca.metrc.com</code>).</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.METRC_USERNAME" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">METRC_USERNAME</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.METRC_USERNAME" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">METRC_USERNAME</span> <span class="o">=</span> <span class="s1">&#39;METRC_USERNAME&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Metrc account username.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.METRC_PASSWORD" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">METRC_PASSWORD</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.METRC_PASSWORD" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">METRC_PASSWORD</span> <span class="o">=</span> <span class="s1">&#39;METRC_PASSWORD&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Metrc account password.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.METRC_EMAIL" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">METRC_EMAIL</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.METRC_EMAIL" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">METRC_EMAIL</span> <span class="o">=</span> <span class="s1">&#39;METRC_EMAIL&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Email address for hostnames that require it (see :data:<code>DEFAULT_CREDENTIAL_EMAIL_WHITELIST</code>).</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.JWT_TOKEN" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">JWT_TOKEN</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.JWT_TOKEN" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">JWT_TOKEN</span> <span class="o">=</span> <span class="s1">&#39;JWT_TOKEN&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Pre-issued JWT bearer token for direct authentication.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.API_KEY" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">API_KEY</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.API_KEY" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">API_KEY</span> <span class="o">=</span> <span class="s1">&#39;API_KEY&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>T3 API key for API-key-based authentication.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.API_STATE_CODE" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">API_STATE_CODE</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.API_STATE_CODE" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">API_STATE_CODE</span> <span class="o">=</span> <span class="s1">&#39;API_STATE_CODE&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Two-letter US state code associated with the API key.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.T3_API_HOST" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">T3_API_HOST</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.T3_API_HOST" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">T3_API_HOST</span> <span class="o">=</span> <span class="s1">&#39;T3_API_HOST&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Base URL of the T3 API (overrides :data:<code>DEFAULT_T3_API_HOST</code>).</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.HTTP_TIMEOUT" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">HTTP_TIMEOUT</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.HTTP_TIMEOUT" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">HTTP_TIMEOUT</span> <span class="o">=</span> <span class="s1">&#39;HTTP_TIMEOUT&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Overall HTTP request timeout in seconds.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.HTTP_CONNECT_TIMEOUT" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">HTTP_CONNECT_TIMEOUT</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.HTTP_CONNECT_TIMEOUT" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">HTTP_CONNECT_TIMEOUT</span> <span class="o">=</span> <span class="s1">&#39;HTTP_CONNECT_TIMEOUT&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>TCP connection timeout in seconds.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.HTTP_READ_TIMEOUT" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">HTTP_READ_TIMEOUT</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.HTTP_READ_TIMEOUT" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">HTTP_READ_TIMEOUT</span> <span class="o">=</span> <span class="s1">&#39;HTTP_READ_TIMEOUT&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>HTTP response read timeout in seconds.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.VERIFY_SSL" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">VERIFY_SSL</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.VERIFY_SSL" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">VERIFY_SSL</span> <span class="o">=</span> <span class="s1">&#39;VERIFY_SSL&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Whether to verify TLS certificates (<code>"true"</code> / <code>"false"</code>).</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.MAX_WORKERS" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">MAX_WORKERS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.MAX_WORKERS" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">MAX_WORKERS</span> <span class="o">=</span> <span class="s1">&#39;MAX_WORKERS&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Maximum number of parallel workers for concurrent data fetching.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.BATCH_SIZE" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">BATCH_SIZE</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.BATCH_SIZE" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">BATCH_SIZE</span> <span class="o">=</span> <span class="s1">&#39;BATCH_SIZE&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Number of pages to fetch per batch in async parallel loading.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.RATE_LIMIT_RPS" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">RATE_LIMIT_RPS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.RATE_LIMIT_RPS" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">RATE_LIMIT_RPS</span> <span class="o">=</span> <span class="s1">&#39;RATE_LIMIT_RPS&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Maximum requests per second for the rate limiter.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.RATE_LIMIT_BURST" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">RATE_LIMIT_BURST</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.RATE_LIMIT_BURST" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">RATE_LIMIT_BURST</span> <span class="o">=</span> <span class="s1">&#39;RATE_LIMIT_BURST&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Maximum burst size allowed by the rate limiter.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.RETRY_MAX_ATTEMPTS" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">RETRY_MAX_ATTEMPTS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.RETRY_MAX_ATTEMPTS" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">RETRY_MAX_ATTEMPTS</span> <span class="o">=</span> <span class="s1">&#39;RETRY_MAX_ATTEMPTS&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Maximum number of retry attempts for failed HTTP requests.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.RETRY_BACKOFF_FACTOR" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">RETRY_BACKOFF_FACTOR</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.RETRY_BACKOFF_FACTOR" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">RETRY_BACKOFF_FACTOR</span> <span class="o">=</span> <span class="s1">&#39;RETRY_BACKOFF_FACTOR&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Exponential backoff multiplier between retries.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.RETRY_MIN_WAIT" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">RETRY_MIN_WAIT</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.RETRY_MIN_WAIT" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">RETRY_MIN_WAIT</span> <span class="o">=</span> <span class="s1">&#39;RETRY_MIN_WAIT&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Minimum wait time in seconds between retries.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.OTP_WHITELIST" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">OTP_WHITELIST</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.OTP_WHITELIST" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">OTP_WHITELIST</span> <span class="o">=</span> <span class="s1">&#39;OTP_WHITELIST&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Comma-separated list of hostnames requiring OTP authentication.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.EMAIL_WHITELIST" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">EMAIL_WHITELIST</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.EMAIL_WHITELIST" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">EMAIL_WHITELIST</span> <span class="o">=</span> <span class="s1">&#39;EMAIL_WHITELIST&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Comma-separated list of hostnames requiring an email address.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.OTP_SEED" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">OTP_SEED</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.OTP_SEED" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">OTP_SEED</span> <span class="o">=</span> <span class="s1">&#39;OTP_SEED&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>TOTP seed for automatic one-time password generation.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.LOG_LEVEL" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">LOG_LEVEL</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.LOG_LEVEL" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">LOG_LEVEL</span> <span class="o">=</span> <span class="s1">&#39;LOG_LEVEL&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Logging level (e.g. <code>DEBUG</code>, <code>INFO</code>, <code>WARNING</code>).</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.LOG_FORMAT" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">LOG_FORMAT</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.LOG_FORMAT" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">LOG_FORMAT</span> <span class="o">=</span> <span class="s1">&#39;LOG_FORMAT&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Custom log format string.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.DEBUG_MODE" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">DEBUG_MODE</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.DEBUG_MODE" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">DEBUG_MODE</span> <span class="o">=</span> <span class="s1">&#39;DEBUG_MODE&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Enable debug mode (<code>"true"</code> / <code>"false"</code>).</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.CACHE_RESPONSES" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">CACHE_RESPONSES</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.CACHE_RESPONSES" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">CACHE_RESPONSES</span> <span class="o">=</span> <span class="s1">&#39;CACHE_RESPONSES&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Cache API responses locally (<code>"true"</code> / <code>"false"</code>).</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.OUTPUT_DIR" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">OUTPUT_DIR</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.OUTPUT_DIR" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">OUTPUT_DIR</span> <span class="o">=</span> <span class="s1">&#39;OUTPUT_DIR&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Directory for CSV/JSON output files.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.TEMP_DIR" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">TEMP_DIR</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.TEMP_DIR" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">TEMP_DIR</span> <span class="o">=</span> <span class="s1">&#39;TEMP_DIR&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Directory for temporary files.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.AUTO_OPEN_FILES" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">AUTO_OPEN_FILES</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.AUTO_OPEN_FILES" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">AUTO_OPEN_FILES</span> <span class="o">=</span> <span class="s1">&#39;AUTO_OPEN_FILES&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Automatically open exported files after saving (<code>"true"</code> / <code>"false"</code>).</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.STRIP_EMPTY_COLUMNS" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">STRIP_EMPTY_COLUMNS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.STRIP_EMPTY_COLUMNS" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">STRIP_EMPTY_COLUMNS</span> <span class="o">=</span> <span class="s1">&#39;STRIP_EMPTY_COLUMNS&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Remove columns that are entirely empty from CSV output (<code>"true"</code> / <code>"false"</code>).</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="t3api_utils.cli.consts.EnvKeys.DEFAULT_FILE_FORMAT" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">DEFAULT_FILE_FORMAT</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.consts.EnvKeys.DEFAULT_FILE_FORMAT" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">DEFAULT_FILE_FORMAT</span> <span class="o">=</span> <span class="s1">&#39;DEFAULT_FILE_FORMAT&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Default export format (<code>"csv"</code> or <code>"json"</code>).</p>

    </div>

</div>






  </div>

    </div>

</div>




  </div>

    </div>

</div><h2 id="utilities">Utilities<a class="headerlink" href="#utilities" title="Permanent link">&para;</a></h2>


<div class="doc doc-object doc-module">



<h2 id="t3api_utils.cli.utils" class="doc doc-heading">
            <span class="doc doc-object-name doc-module-name">utils</span>


<a href="#t3api_utils.cli.utils" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents first">

        <p>CLI utility functions for configuration management and authentication.</p>
<p>Provides the <code>ConfigManager</code> class for reading and auto-generating the
<code>.t3.env</code> configuration file, as well as helper functions for loading,
prompting, and persisting Metrc credentials.</p>










<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="t3api_utils.cli.utils.DEFAULT_ENV_PATH" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">DEFAULT_ENV_PATH</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#t3api_utils.cli.utils.DEFAULT_ENV_PATH" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">DEFAULT_ENV_PATH</span><span class="p">:</span> <span class="n">Final</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;.t3.env&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Default path to the dotenv file where credentials and settings are persisted.</p>

    </div>

</div>



<div class="doc doc-object doc-class">



<h3 id="t3api_utils.cli.utils.ConfigManager" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">ConfigManager</span>


<a href="#t3api_utils.cli.utils.ConfigManager" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">ConfigManager</span><span class="p">(</span><span class="n">config_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_ENV_PATH</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">



        <p>Centralized configuration manager for .t3.env file.</p>
<p>Handles auto-generation, validation, and reading of the comprehensive
.t3.env configuration file with all t3api-utils settings.</p>

        <p>Initialize the configuration manager.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>config_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filesystem path to the <code>.t3.env</code> configuration
file. Defaults to <code>DEFAULT_ENV_PATH</code>.</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="DEFAULT_ENV_PATH


  
      module-attribute
   (t3api_utils.cli.consts.DEFAULT_ENV_PATH)" href="#t3api_utils.cli.consts.DEFAULT_ENV_PATH">DEFAULT_ENV_PATH</a></code>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>t3api_utils/cli/utils.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_ENV_PATH</span><span class="p">):</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the configuration manager.</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">        config_path: Filesystem path to the ``.t3.env`` configuration</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">            file. Defaults to ``DEFAULT_ENV_PATH``.</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">config_path</span> <span class="o">=</span> <span class="n">config_path</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_config_cache</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
                  </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="t3api_utils.cli.utils.ConfigManager.ensure_config_exists" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">ensure_config_exists</span>


<a href="#t3api_utils.cli.utils.ConfigManager.ensure_config_exists" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">ensure_config_exists</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Ensure <code>.t3.env</code> exists and is complete, auto-generating if needed.</p>
<p>Creates the configuration file when it is missing or regenerates it
when required keys are absent. Prints an info message when the file
is generated or updated.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>t3api_utils/cli/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="k">def</span><span class="w"> </span><span class="nf">ensure_config_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Ensure ``.t3.env`` exists and is complete, auto-generating if needed.</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="sd">    Creates the configuration file when it is missing or regenerates it</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="sd">    when required keys are absent. Prints an info message when the file</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">    is generated or updated.</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_exists</span><span class="p">()</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_needs_update</span><span class="p">():</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_generate_config_file</span><span class="p">()</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>        <span class="n">print_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Generated/updated </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config_path</span><span class="si">}</span><span class="s2"> configuration file&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="t3api_utils.cli.utils.ConfigManager.get_config_value" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_config_value</span>


<a href="#t3api_utils.cli.utils.ConfigManager.get_config_value" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_config_value</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="n">EnvKeys</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get a configuration value with automatic type conversion.</p>
<p>Loads the configuration file, reads the requested key, and converts
the raw string to the appropriate Python type (bool, float, int, or
set) based on the key.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="EnvKeys (t3api_utils.cli.consts.EnvKeys)" href="#t3api_utils.cli.consts.EnvKeys">EnvKeys</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>EnvKeys</code> member identifying the configuration value.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Fallback value returned when the key is missing or
type conversion fails.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The converted configuration value, or <code>default</code> if the key is</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>absent or conversion fails.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>t3api_utils/cli/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-309" name="__codelineno-0-309"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_config_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">EnvKeys</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a configuration value with automatic type conversion.</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a><span class="sd">    Loads the configuration file, reads the requested key, and converts</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a><span class="sd">    the raw string to the appropriate Python type (bool, float, int, or</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a><span class="sd">    set) based on the key.</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a><span class="sd">        key: The ``EnvKeys`` member identifying the configuration value.</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a><span class="sd">        default: Fallback value returned when the key is missing or</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a><span class="sd">            type conversion fails.</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a><span class="sd">        The converted configuration value, or ``default`` if the key is</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a><span class="sd">        absent or conversion fails.</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a>    <span class="n">load_dotenv</span><span class="p">(</span><span class="n">dotenv_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config_path</span><span class="p">)</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a>    <span class="n">value</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>    <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>        <span class="k">return</span> <span class="n">default</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>    <span class="c1"># Type conversion based on key</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">DEBUG_MODE</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">VERIFY_SSL</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">AUTO_OPEN_FILES</span><span class="p">,</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>               <span class="n">EnvKeys</span><span class="o">.</span><span class="n">STRIP_EMPTY_COLUMNS</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">CACHE_RESPONSES</span><span class="p">]:</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a>        <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;true&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;yes&#39;</span><span class="p">,</span> <span class="s1">&#39;on&#39;</span><span class="p">]</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">HTTP_TIMEOUT</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">HTTP_CONNECT_TIMEOUT</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">HTTP_READ_TIMEOUT</span><span class="p">,</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>                 <span class="n">EnvKeys</span><span class="o">.</span><span class="n">RETRY_BACKOFF_FACTOR</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">RETRY_MIN_WAIT</span><span class="p">]:</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>            <span class="k">return</span> <span class="n">default</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">MAX_WORKERS</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">BATCH_SIZE</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">RATE_LIMIT_RPS</span><span class="p">,</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>                 <span class="n">EnvKeys</span><span class="o">.</span><span class="n">RATE_LIMIT_BURST</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">RETRY_MAX_ATTEMPTS</span><span class="p">]:</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a>        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>            <span class="k">return</span> <span class="n">default</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>    <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">OTP_WHITELIST</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">EMAIL_WHITELIST</span><span class="p">]:</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>        <span class="c1"># Convert comma-separated string to set</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>        <span class="k">return</span> <span class="p">{</span><span class="n">hostname</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">hostname</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">hostname</span><span class="o">.</span><span class="n">strip</span><span class="p">()}</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>    <span class="k">return</span> <span class="n">value</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="t3api_utils.cli.utils.ConfigManager.get_otp_whitelist" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_otp_whitelist</span>


<a href="#t3api_utils.cli.utils.ConfigManager.get_otp_whitelist" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_otp_whitelist</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get the set of hostnames that require OTP authentication.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Set">Set</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Set of Metrc hostnames requiring OTP, falling back to</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Set">Set</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>DEFAULT_OTP_WHITELIST</code> when unconfigured.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>t3api_utils/cli/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-353" name="__codelineno-0-353"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_otp_whitelist</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the set of hostnames that require OTP authentication.</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a><span class="sd">        Set of Metrc hostnames requiring OTP, falling back to</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a><span class="sd">        ``DEFAULT_OTP_WHITELIST`` when unconfigured.</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>    <span class="n">whitelist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">OTP_WHITELIST</span><span class="p">)</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>    <span class="k">return</span> <span class="n">whitelist</span> <span class="k">if</span> <span class="n">whitelist</span> <span class="k">else</span> <span class="n">DEFAULT_OTP_WHITELIST</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="t3api_utils.cli.utils.ConfigManager.get_email_whitelist" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_email_whitelist</span>


<a href="#t3api_utils.cli.utils.ConfigManager.get_email_whitelist" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_email_whitelist</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get the set of hostnames that require an email during authentication.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Set">Set</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Set of Metrc hostnames requiring email, falling back to</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Set">Set</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>DEFAULT_CREDENTIAL_EMAIL_WHITELIST</code> when unconfigured.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>t3api_utils/cli/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-363" name="__codelineno-0-363"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_email_whitelist</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the set of hostnames that require an email during authentication.</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a><span class="sd">        Set of Metrc hostnames requiring email, falling back to</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a><span class="sd">        ``DEFAULT_CREDENTIAL_EMAIL_WHITELIST`` when unconfigured.</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>    <span class="n">whitelist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">EMAIL_WHITELIST</span><span class="p">)</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>    <span class="k">return</span> <span class="n">whitelist</span> <span class="k">if</span> <span class="n">whitelist</span> <span class="k">else</span> <span class="n">DEFAULT_CREDENTIAL_EMAIL_WHITELIST</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="t3api_utils.cli.utils.ConfigManager.get_api_host" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_api_host</span>


<a href="#t3api_utils.cli.utils.ConfigManager.get_api_host" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_api_host</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get the T3 API base URL.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The configured API host string, falling back to</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>DEFAULT_T3_API_HOST</code> when unconfigured.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>t3api_utils/cli/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-373" name="__codelineno-0-373"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_api_host</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the T3 API base URL.</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a><span class="sd">        The configured API host string, falling back to</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a><span class="sd">        ``DEFAULT_T3_API_HOST`` when unconfigured.</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>    <span class="n">host</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">T3_API_HOST</span><span class="p">)</span>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>    <span class="k">return</span> <span class="n">host</span> <span class="k">if</span> <span class="n">host</span> <span class="k">else</span> <span class="n">DEFAULT_T3_API_HOST</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="t3api_utils.cli.utils.ConfigManager.get_otp_seed" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_otp_seed</span>


<a href="#t3api_utils.cli.utils.ConfigManager.get_otp_seed" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_otp_seed</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get the Base32-encoded OTP seed for TOTP generation.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The trimmed seed string, or <code>None</code> if the seed is not</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>configured or is empty.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>t3api_utils/cli/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-383" name="__codelineno-0-383"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_otp_seed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the Base32-encoded OTP seed for TOTP generation.</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a><span class="sd">        The trimmed seed string, or ``None`` if the seed is not</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a><span class="sd">        configured or is empty.</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>    <span class="n">seed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_config_value</span><span class="p">(</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">OTP_SEED</span><span class="p">)</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>    <span class="k">return</span> <span class="n">seed</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="n">seed</span> <span class="k">else</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h3 id="t3api_utils.cli.utils.generate_otp_from_seed" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">generate_otp_from_seed</span>


<a href="#t3api_utils.cli.utils.generate_otp_from_seed" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">generate_otp_from_seed</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generate a 6-digit TOTP code from the OTP_SEED environment variable.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>6-digit OTP string if OTP_SEED is configured, None otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="AuthenticationError (t3api_utils.exceptions.AuthenticationError)" href="../exceptions/#t3api_utils.exceptions.AuthenticationError">AuthenticationError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If OTP_SEED is malformed or TOTP generation fails.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>t3api_utils/cli/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-398" name="__codelineno-0-398"></a><span class="k">def</span><span class="w"> </span><span class="nf">generate_otp_from_seed</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a><span class="sd">    Generate a 6-digit TOTP code from the OTP_SEED environment variable.</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a><span class="sd">        6-digit OTP string if OTP_SEED is configured, None otherwise.</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a><span class="sd">        AuthenticationError: If OTP_SEED is malformed or TOTP generation fails.</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>    <span class="n">otp_seed</span> <span class="o">=</span> <span class="n">config_manager</span><span class="o">.</span><span class="n">get_otp_seed</span><span class="p">()</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">otp_seed</span><span class="p">:</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>        <span class="k">return</span> <span class="kc">None</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>        <span class="n">totp</span> <span class="o">=</span> <span class="n">pyotp</span><span class="o">.</span><span class="n">TOTP</span><span class="p">(</span><span class="n">otp_seed</span><span class="p">)</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>        <span class="n">otp_code</span> <span class="o">=</span> <span class="n">totp</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>        <span class="c1"># Ensure it&#39;s always 6 digits (pad with zeros if needed)</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">otp_code</span><span class="p">)</span><span class="si">:</span><span class="s2">06d</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>        <span class="k">raise</span> <span class="n">AuthenticationError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to generate OTP from seed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="t3api_utils.cli.utils.load_credentials_from_env" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">load_credentials_from_env</span>


<a href="#t3api_utils.cli.utils.load_credentials_from_env" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">load_credentials_from_env</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Load credential values from the <code>.t3.env</code> environment file.</p>
<p>Reads all available authentication values including Metrc credentials,
JWT tokens, and API key credentials. Only non-empty values are included
in the returned dictionary.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary mapping credential names (e.g. <code>"hostname"</code>,</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>"username"</code>, <code>"jwt_token"</code>) to their string values.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Keys with empty or missing values are omitted.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>t3api_utils/cli/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-423" name="__codelineno-0-423"></a><span class="k">def</span><span class="w"> </span><span class="nf">load_credentials_from_env</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Load credential values from the ``.t3.env`` environment file.</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a><span class="sd">    Reads all available authentication values including Metrc credentials,</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a><span class="sd">    JWT tokens, and API key credentials. Only non-empty values are included</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a><span class="sd">    in the returned dictionary.</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a><span class="sd">        Dictionary mapping credential names (e.g. ``&quot;hostname&quot;``,</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a><span class="sd">        ``&quot;username&quot;``, ``&quot;jwt_token&quot;``) to their string values.</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a><span class="sd">        Keys with empty or missing values are omitted.</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>    <span class="n">load_dotenv</span><span class="p">(</span><span class="n">dotenv_path</span><span class="o">=</span><span class="n">DEFAULT_ENV_PATH</span><span class="p">)</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>    <span class="n">creds</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>    <span class="c1"># Metrc credentials</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>    <span class="n">hostname</span> <span class="o">=</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">METRC_HOSTNAME</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>    <span class="n">username</span> <span class="o">=</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">METRC_USERNAME</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>    <span class="n">password</span> <span class="o">=</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">METRC_PASSWORD</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>    <span class="n">email</span> <span class="o">=</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">METRC_EMAIL</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>    <span class="c1"># Alternative authentication methods</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>    <span class="n">jwt_token</span> <span class="o">=</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">JWT_TOKEN</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>    <span class="n">api_key</span> <span class="o">=</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">API_KEY</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>    <span class="n">api_state_code</span> <span class="o">=</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">API_STATE_CODE</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>    <span class="k">if</span> <span class="n">hostname</span><span class="p">:</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>        <span class="n">creds</span><span class="p">[</span><span class="s2">&quot;hostname&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">hostname</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>    <span class="k">if</span> <span class="n">username</span><span class="p">:</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>        <span class="n">creds</span><span class="p">[</span><span class="s2">&quot;username&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">username</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>    <span class="k">if</span> <span class="n">password</span><span class="p">:</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>        <span class="n">creds</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">password</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>    <span class="k">if</span> <span class="n">email</span><span class="p">:</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>        <span class="n">creds</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">email</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>    <span class="k">if</span> <span class="n">jwt_token</span><span class="p">:</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>        <span class="n">creds</span><span class="p">[</span><span class="s2">&quot;jwt_token&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">jwt_token</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>    <span class="k">if</span> <span class="n">api_key</span><span class="p">:</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>        <span class="n">creds</span><span class="p">[</span><span class="s2">&quot;api_key&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">api_key</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>    <span class="k">if</span> <span class="n">api_state_code</span><span class="p">:</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>        <span class="n">creds</span><span class="p">[</span><span class="s2">&quot;api_state_code&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">api_state_code</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>    <span class="k">return</span> <span class="n">creds</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="t3api_utils.cli.utils.offer_to_save_credentials" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">offer_to_save_credentials</span>


<a href="#t3api_utils.cli.utils.offer_to_save_credentials" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">offer_to_save_credentials</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">credentials</span><span class="p">:</span> <span class="n">T3Credentials</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Offer to save credentials to the <code>.t3.env</code> file.</p>
<p>If the environment file does not exist, the user is prompted to create
it. If it exists but any credential values differ from those provided,
the user is prompted to update the file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>credentials</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="T3Credentials (t3api_utils.auth.interfaces.T3Credentials)" href="../auth/#t3api_utils.auth.interfaces.T3Credentials">T3Credentials</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>T3Credentials</code> dictionary containing the
current authentication values to compare and potentially save.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>t3api_utils/cli/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-468" name="__codelineno-0-468"></a><span class="k">def</span><span class="w"> </span><span class="nf">offer_to_save_credentials</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">credentials</span><span class="p">:</span> <span class="n">T3Credentials</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Offer to save credentials to the ``.t3.env`` file.</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a><span class="sd">    If the environment file does not exist, the user is prompted to create</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a><span class="sd">    it. If it exists but any credential values differ from those provided,</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a><span class="sd">    the user is prompted to update the file.</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a><span class="sd">        credentials: The ``T3Credentials`` dictionary containing the</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a><span class="sd">            current authentication values to compare and potentially save.</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a>    <span class="n">load_dotenv</span><span class="p">(</span><span class="n">dotenv_path</span><span class="o">=</span><span class="n">DEFAULT_ENV_PATH</span><span class="p">)</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>    <span class="n">env_exists</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">DEFAULT_ENV_PATH</span><span class="p">)</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>    <span class="n">current_hostname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">METRC_HOSTNAME</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>    <span class="n">current_username</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">METRC_USERNAME</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>    <span class="n">current_password</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">METRC_PASSWORD</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a>    <span class="n">current_email</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">EnvKeys</span><span class="o">.</span><span class="n">METRC_EMAIL</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a>    <span class="n">hostname_differs</span> <span class="o">=</span> <span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;hostname&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">current_hostname</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>    <span class="n">username_differs</span> <span class="o">=</span> <span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;username&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">current_username</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a>    <span class="n">password_differs</span> <span class="o">=</span> <span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">current_password</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>    <span class="c1"># Only check email differences if the hostname requires email</span>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>    <span class="n">email_differs</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>    <span class="k">if</span> <span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;hostname&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="n">config_manager</span><span class="o">.</span><span class="n">get_email_whitelist</span><span class="p">():</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>        <span class="n">email_differs</span> <span class="o">=</span> <span class="n">credentials</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;email&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="n">current_email</span>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">env_exists</span><span class="p">:</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>        <span class="k">if</span> <span class="n">typer</span><span class="o">.</span><span class="n">confirm</span><span class="p">(</span>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>            <span class="sa">f</span><span class="s2">&quot;No credentials file found. Save these values to </span><span class="si">{</span><span class="n">DEFAULT_ENV_PATH</span><span class="si">}</span><span class="s2">?&quot;</span><span class="p">,</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>            <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>        <span class="p">):</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;[green]Saving credentials to new environment file.[/green]&quot;</span><span class="p">)</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>            <span class="n">set_key</span><span class="p">(</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>                <span class="n">DEFAULT_ENV_PATH</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">METRC_HOSTNAME</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;hostname&quot;</span><span class="p">]</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>            <span class="p">)</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>            <span class="n">set_key</span><span class="p">(</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>                <span class="n">DEFAULT_ENV_PATH</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">METRC_USERNAME</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;username&quot;</span><span class="p">]</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>            <span class="p">)</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>            <span class="n">set_key</span><span class="p">(</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>                <span class="n">DEFAULT_ENV_PATH</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">METRC_PASSWORD</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>            <span class="p">)</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>            <span class="n">email_value</span> <span class="o">=</span> <span class="n">credentials</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;email&quot;</span><span class="p">)</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>            <span class="k">if</span> <span class="n">email_value</span><span class="p">:</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>                <span class="n">set_key</span><span class="p">(</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>                    <span class="n">DEFAULT_ENV_PATH</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">METRC_EMAIL</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">email_value</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>                <span class="p">)</span>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>    <span class="k">elif</span> <span class="n">hostname_differs</span> <span class="ow">or</span> <span class="n">username_differs</span> <span class="ow">or</span> <span class="n">password_differs</span> <span class="ow">or</span> <span class="n">email_differs</span><span class="p">:</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>        <span class="k">if</span> <span class="n">typer</span><span class="o">.</span><span class="n">confirm</span><span class="p">(</span>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a>            <span class="sa">f</span><span class="s2">&quot;Some credential values differ from those in </span><span class="si">{</span><span class="n">DEFAULT_ENV_PATH</span><span class="si">}</span><span class="s2">. Update them?&quot;</span><span class="p">,</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>            <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a>        <span class="p">):</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;[cyan]Updating credentials in environment file.[/cyan]&quot;</span><span class="p">)</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a>            <span class="n">set_key</span><span class="p">(</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a>                <span class="n">DEFAULT_ENV_PATH</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">METRC_HOSTNAME</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;hostname&quot;</span><span class="p">]</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>            <span class="p">)</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a>            <span class="n">set_key</span><span class="p">(</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>                <span class="n">DEFAULT_ENV_PATH</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">METRC_USERNAME</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;username&quot;</span><span class="p">]</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>            <span class="p">)</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>            <span class="n">set_key</span><span class="p">(</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>                <span class="n">DEFAULT_ENV_PATH</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">METRC_PASSWORD</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;password&quot;</span><span class="p">]</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>            <span class="p">)</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>            <span class="n">email_value</span> <span class="o">=</span> <span class="n">credentials</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;email&quot;</span><span class="p">)</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>            <span class="k">if</span> <span class="n">email_value</span><span class="p">:</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>                <span class="n">set_key</span><span class="p">(</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>                    <span class="n">DEFAULT_ENV_PATH</span><span class="p">,</span> <span class="n">EnvKeys</span><span class="o">.</span><span class="n">METRC_EMAIL</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">email_value</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>                <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="t3api_utils.cli.utils.prompt_for_credentials_or_error" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">prompt_for_credentials_or_error</span>


<a href="#t3api_utils.cli.utils.prompt_for_credentials_or_error" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">prompt_for_credentials_or_error</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T3Credentials</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Prompt for any missing credentials, using provided values if available.</p>
<p>Pre-populated values (typically loaded from the environment) are used
without prompting. Missing values are requested interactively. OTP and
email prompts are shown only when the hostname requires them.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs</code>
            </td>
            <td>
                  <code><span title="object">object</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional pre-populated credential values. Recognized keys
are <code>hostname</code>, <code>username</code>, <code>password</code>, and <code>email</code>.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="T3Credentials (t3api_utils.auth.interfaces.T3Credentials)" href="../auth/#t3api_utils.auth.interfaces.T3Credentials">T3Credentials</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A fully-populated <code>T3Credentials</code> dictionary.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="AuthenticationError (t3api_utils.exceptions.AuthenticationError)" href="../exceptions/#t3api_utils.exceptions.AuthenticationError">AuthenticationError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If a required credential is missing or empty,
the OTP code is invalid, or the email address is malformed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>t3api_utils/cli/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span>
<span class="normal"><a href="#__codelineno-0-599">599</a></span>
<span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span>
<span class="normal"><a href="#__codelineno-0-606">606</a></span>
<span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-538" name="__codelineno-0-538"></a><span class="k">def</span><span class="w"> </span><span class="nf">prompt_for_credentials_or_error</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T3Credentials</span><span class="p">:</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Prompt for any missing credentials, using provided values if available.</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a><span class="sd">    Pre-populated values (typically loaded from the environment) are used</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a><span class="sd">    without prompting. Missing values are requested interactively. OTP and</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a><span class="sd">    email prompts are shown only when the hostname requires them.</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a><span class="sd">        **kwargs: Optional pre-populated credential values. Recognized keys</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a><span class="sd">            are ``hostname``, ``username``, ``password``, and ``email``.</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a><span class="sd">        A fully-populated ``T3Credentials`` dictionary.</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a><span class="sd">        AuthenticationError: If a required credential is missing or empty,</span>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a><span class="sd">            the OTP code is invalid, or the email address is malformed.</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a>    <span class="n">hostname</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;hostname&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span> <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;hostname&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a>    <span class="n">username</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span> <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a>    <span class="n">password</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;password&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span> <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;password&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a>    <span class="n">email</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;email&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span> <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;email&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a>    <span class="k">if</span> <span class="n">hostname</span><span class="p">:</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>        <span class="n">print_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using stored value for hostname: </span><span class="si">{</span><span class="n">hostname</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>        <span class="n">hostname</span> <span class="o">=</span> <span class="n">typer</span><span class="o">.</span><span class="n">prompt</span><span class="p">(</span><span class="s2">&quot;Enter Metrc hostname (e.g., mo.metrc.com)&quot;</span><span class="p">)</span>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a>    <span class="k">if</span> <span class="n">username</span><span class="p">:</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>        <span class="n">print_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using stored value for username: </span><span class="si">{</span><span class="n">username</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>        <span class="n">username</span> <span class="o">=</span> <span class="n">typer</span><span class="o">.</span><span class="n">prompt</span><span class="p">(</span><span class="s2">&quot;Enter Metrc username&quot;</span><span class="p">)</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a>    <span class="k">if</span> <span class="n">password</span><span class="p">:</span>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a>        <span class="n">print_info</span><span class="p">(</span><span class="s2">&quot;Using stored value for password.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a>        <span class="n">password</span> <span class="o">=</span> <span class="n">typer</span><span class="o">.</span><span class="n">prompt</span><span class="p">(</span><span class="s2">&quot;Enter Metrc password&quot;</span><span class="p">,</span> <span class="n">hide_input</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a>    <span class="n">credentials</span><span class="p">:</span> <span class="n">T3Credentials</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>        <span class="s2">&quot;hostname&quot;</span><span class="p">:</span> <span class="n">hostname</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>        <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="n">username</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>        <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">password</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>        <span class="s2">&quot;otp&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>        <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>    <span class="p">}</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a>    <span class="k">if</span> <span class="n">hostname</span> <span class="ow">in</span> <span class="n">config_manager</span><span class="o">.</span><span class="n">get_otp_whitelist</span><span class="p">():</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>        <span class="c1"># Try to generate OTP from seed first, otherwise prompt user</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a>        <span class="n">otp</span> <span class="o">=</span> <span class="n">generate_otp_from_seed</span><span class="p">()</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a>        <span class="k">if</span> <span class="n">otp</span><span class="p">:</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>            <span class="n">print_info</span><span class="p">(</span><span class="s2">&quot;Using OTP generated from configured seed&quot;</span><span class="p">)</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a>            <span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;otp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">otp</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>            <span class="n">otp</span> <span class="o">=</span> <span class="n">typer</span><span class="o">.</span><span class="n">prompt</span><span class="p">(</span><span class="s2">&quot;Enter 6-digit Metrc 2-factor authentication code&quot;</span><span class="p">)</span>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">otp</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">otp</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">6</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">otp</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a>                <span class="n">print_error</span><span class="p">(</span><span class="s2">&quot;Invalid 2-factor authentication entered.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a>                <span class="k">raise</span> <span class="n">AuthenticationError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid 2-factor authentication: </span><span class="si">{</span><span class="n">otp</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a>            <span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;otp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">otp</span>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a>    <span class="k">if</span> <span class="n">hostname</span> <span class="ow">in</span> <span class="n">config_manager</span><span class="o">.</span><span class="n">get_email_whitelist</span><span class="p">():</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a>        <span class="k">if</span> <span class="n">email</span><span class="p">:</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a>            <span class="n">print_info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using stored value for email: </span><span class="si">{</span><span class="n">email</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a>            <span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">email</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a>            <span class="n">email_input</span> <span class="o">=</span> <span class="n">typer</span><span class="o">.</span><span class="n">prompt</span><span class="p">(</span><span class="s2">&quot;Enter Metrc email address&quot;</span><span class="p">)</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">email_input</span> <span class="ow">or</span> <span class="s2">&quot;@&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">email_input</span><span class="p">:</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a>                <span class="n">print_error</span><span class="p">(</span><span class="s2">&quot;Invalid email address entered.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a>                <span class="k">raise</span> <span class="n">AuthenticationError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid email address: </span><span class="si">{</span><span class="n">email_input</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a>            <span class="n">credentials</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">email_input</span>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a>    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">credentials</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a>        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;otp&quot;</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()):</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a>            <span class="n">print_error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Missing or empty credential: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a>            <span class="k">raise</span> <span class="n">AuthenticationError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Missing or empty credential: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a>    <span class="k">return</span> <span class="n">credentials</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="t3api_utils.cli.utils.resolve_auth_inputs_or_error" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">resolve_auth_inputs_or_error</span>


<a href="#t3api_utils.cli.utils.resolve_auth_inputs_or_error" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">resolve_auth_inputs_or_error</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">T3Credentials</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Resolve authentication credentials from env and/or interactive prompt.</p>
<p>Loads any stored credentials from the environment file, prompts the
user for missing values, and offers to persist the final set back to
the <code>.t3.env</code> file.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="T3Credentials (t3api_utils.auth.interfaces.T3Credentials)" href="../auth/#t3api_utils.auth.interfaces.T3Credentials">T3Credentials</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A fully-populated <code>T3Credentials</code> dictionary ready for use with</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="T3Credentials (t3api_utils.auth.interfaces.T3Credentials)" href="../auth/#t3api_utils.auth.interfaces.T3Credentials">T3Credentials</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the authentication client.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="AuthenticationError (t3api_utils.exceptions.AuthenticationError)" href="../exceptions/#t3api_utils.exceptions.AuthenticationError">AuthenticationError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If required credentials cannot be resolved
(propagated from <code>prompt_for_credentials_or_error</code>).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>t3api_utils/cli/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-616">616</a></span>
<span class="normal"><a href="#__codelineno-0-617">617</a></span>
<span class="normal"><a href="#__codelineno-0-618">618</a></span>
<span class="normal"><a href="#__codelineno-0-619">619</a></span>
<span class="normal"><a href="#__codelineno-0-620">620</a></span>
<span class="normal"><a href="#__codelineno-0-621">621</a></span>
<span class="normal"><a href="#__codelineno-0-622">622</a></span>
<span class="normal"><a href="#__codelineno-0-623">623</a></span>
<span class="normal"><a href="#__codelineno-0-624">624</a></span>
<span class="normal"><a href="#__codelineno-0-625">625</a></span>
<span class="normal"><a href="#__codelineno-0-626">626</a></span>
<span class="normal"><a href="#__codelineno-0-627">627</a></span>
<span class="normal"><a href="#__codelineno-0-628">628</a></span>
<span class="normal"><a href="#__codelineno-0-629">629</a></span>
<span class="normal"><a href="#__codelineno-0-630">630</a></span>
<span class="normal"><a href="#__codelineno-0-631">631</a></span>
<span class="normal"><a href="#__codelineno-0-632">632</a></span>
<span class="normal"><a href="#__codelineno-0-633">633</a></span>
<span class="normal"><a href="#__codelineno-0-634">634</a></span>
<span class="normal"><a href="#__codelineno-0-635">635</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-616" name="__codelineno-0-616"></a><span class="k">def</span><span class="w"> </span><span class="nf">resolve_auth_inputs_or_error</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">T3Credentials</span><span class="p">:</span>
<a id="__codelineno-0-617" name="__codelineno-0-617"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Resolve authentication credentials from env and/or interactive prompt.</span>
<a id="__codelineno-0-618" name="__codelineno-0-618"></a>
<a id="__codelineno-0-619" name="__codelineno-0-619"></a><span class="sd">    Loads any stored credentials from the environment file, prompts the</span>
<a id="__codelineno-0-620" name="__codelineno-0-620"></a><span class="sd">    user for missing values, and offers to persist the final set back to</span>
<a id="__codelineno-0-621" name="__codelineno-0-621"></a><span class="sd">    the ``.t3.env`` file.</span>
<a id="__codelineno-0-622" name="__codelineno-0-622"></a>
<a id="__codelineno-0-623" name="__codelineno-0-623"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-624" name="__codelineno-0-624"></a><span class="sd">        A fully-populated ``T3Credentials`` dictionary ready for use with</span>
<a id="__codelineno-0-625" name="__codelineno-0-625"></a><span class="sd">        the authentication client.</span>
<a id="__codelineno-0-626" name="__codelineno-0-626"></a>
<a id="__codelineno-0-627" name="__codelineno-0-627"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-628" name="__codelineno-0-628"></a><span class="sd">        AuthenticationError: If required credentials cannot be resolved</span>
<a id="__codelineno-0-629" name="__codelineno-0-629"></a><span class="sd">            (propagated from ``prompt_for_credentials_or_error``).</span>
<a id="__codelineno-0-630" name="__codelineno-0-630"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-631" name="__codelineno-0-631"></a>    <span class="n">print_subheader</span><span class="p">(</span><span class="s2">&quot;Authentication Required&quot;</span><span class="p">)</span>
<a id="__codelineno-0-632" name="__codelineno-0-632"></a>    <span class="n">stored_credentials</span> <span class="o">=</span> <span class="n">load_credentials_from_env</span><span class="p">()</span>
<a id="__codelineno-0-633" name="__codelineno-0-633"></a>    <span class="n">credentials</span> <span class="o">=</span> <span class="n">prompt_for_credentials_or_error</span><span class="p">(</span><span class="o">**</span><span class="n">stored_credentials</span><span class="p">)</span>
<a id="__codelineno-0-634" name="__codelineno-0-634"></a>    <span class="n">offer_to_save_credentials</span><span class="p">(</span><span class="n">credentials</span><span class="o">=</span><span class="n">credentials</span><span class="p">)</span>
<a id="__codelineno-0-635" name="__codelineno-0-635"></a>    <span class="k">return</span> <span class="n">credentials</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.copy", "navigation.sections", "navigation.expand", "search.highlight", "search.suggest"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>